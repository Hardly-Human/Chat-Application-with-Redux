(this["webpackJsonpchat-application-with-redux"]=this["webpackJsonpchat-application-with-redux"]||[]).push([[0],{1541:function(e,t,n){},1542:function(e,t,n){},1543:function(e,t,n){},1544:function(e,t,n){},1545:function(e,t,n){},1546:function(e,t,n){},1547:function(e,t,n){},1548:function(e,t,n){"use strict";n.r(t);var s,a=n(1),c=n.n(a),r=n(22),i=n.n(r),u=(n(31),n(3)),o=n.n(u),l=(n(34),n(35),n(6)),d=n(2),j=n(36),m=n(45),h=n(51),p=n(3),b=(s=10,Array.from({length:s},(function(){return g()}))),f=p.mapKeys(b,"user_id"),v=function(e){var t={};return p.forEach(b,(function(n){var s;t[n.user_id]=Object(d.a)({},p.mapKeys((s=e,Array.from({length:s},(function(e,t){return{number:t,text:m.sentence(),is_user_msg:h.random.boolean()}}))),"number"))})),t};g(),v(10);function g(){return{name:h.name.findName(),email:h.internet.email(),profile_pic:h.internet.avatar(),status:m.sentence(),user_id:j.generate()}}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return e},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return e},x="SET_ACTIVE_USER_ID",y="SET_TYPING_VALUE",N="SEND_MESSAGE";var S=n(4);var E=Object(l.a)({user:O,contacts:_,activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var n=t.payload,s=n.message,a=n.userId,c=e[a],r=+o.a.keys(c).pop()+1;return Object(d.a)(Object(d.a)({},e),{},Object(S.a)({},a,Object(d.a)(Object(d.a)({},c),{},Object(S.a)({},r,{number:r,text:s,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return"";case y:return t.payload;default:return e}}}),U=Object(l.b)(E),I=n(0),w=function(e){var t=e.user,n=t.name,s=t.profile_pic,a=t.status;return Object(I.jsxs)("div",{className:"User",onClick:function(e){var t=e.user_id;U.dispatch((n=t,{type:x,payload:n}));var n}.bind(null,t),children:[Object(I.jsx)("img",{src:s,alt:n,className:"User__pic"}),Object(I.jsxs)("div",{className:"User__details",children:[Object(I.jsx)("p",{className:"User__details-name",children:n}),Object(I.jsx)("p",{className:"User__details-status",children:a})]})]})},C=(n(1541),function(e){var t=e.contacts;return Object(I.jsx)("aside",{className:"Sidebar",children:t.map((function(e){return Object(I.jsx)(w,{user:e},e.user_id)}))})}),T=(n(1542),n(1543),function(e){var t=e.user,n=t.name,s=t.profile_pic,a=t.status,c=n.split(" ")[0];return Object(I.jsxs)("div",{className:"Empty",children:[Object(I.jsxs)("h1",{className:"Empty__name",children:["Welcome, ",c," "]}),Object(I.jsx)("img",{src:s,alt:n,className:"Empty__img"}),Object(I.jsxs)("p",{className:"Empty__status",children:[Object(I.jsx)("b",{children:"Status:"})," ",a]}),Object(I.jsx)("button",{className:"Empty__btn",children:"Start a conversation"}),Object(I.jsx)("p",{className:"Empty__info",children:"Search for someone to start chatting with or go to Contacts to see who is available"})]})});n(1544),n(1545);var k=function(e){var t=e.user,n=t.name,s=t.status;return Object(I.jsxs)("header",{className:"Header",children:[Object(I.jsx)("h1",{className:"Header__name",children:n}),Object(I.jsx)("p",{className:"Header__status",children:s})]})},F=n(23),R=n(24),A=n(26),D=n(25),M=(n(1546),function(e){var t=e.message,n=t.text,s=t.is_user_msg;return Object(I.jsx)("span",{className:"Chat ".concat(s?"is-user-msg":""),children:n})}),B=function(e){Object(A.a)(n,e);var t=Object(D.a)(n);function n(e){var s;return Object(F.a)(this,n),(s=t.call(this,e)).scrollToBottom=function(){s.chatsRef.current.scrollTop=s.chatsRef.current.scrollHeight},s.chatsRef=c.a.createRef(),s}return Object(R.a)(n,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return Object(I.jsx)("div",{className:"Chats",ref:this.chatsRef,children:this.props.messages.map((function(e){return Object(I.jsx)(M,{message:e},e.number)}))})}}]),n}(a.Component),H=(n(1547),function(e){var t=e.value,n=U.getState();return Object(I.jsx)("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=n.typing,s=n.activeUserId;U.dispatch({type:N,payload:{message:t,userId:s}})},children:Object(I.jsx)("input",{className:"Message__input",onChange:function(e){U.dispatch(function(e){return{type:y,payload:e}}(e.target.value))},value:t,placeholder:"write a message"})})}),L=function(e){var t=e.activeUserId,n=U.getState(),s=n.contacts[t],a=n.messages[t],c=n.typing;return Object(I.jsxs)("div",{className:"ChatWindow",children:[Object(I.jsx)(k,{user:s}),Object(I.jsx)(B,{messages:o.a.values(a)}),Object(I.jsx)(H,{value:c})]})},P=function(e){var t=e.user,n=e.activeUserId;return Object(I.jsx)("main",{className:"Main",children:n?Object(I.jsx)(L,{activeUserId:n}):Object(I.jsx)(T,{user:t,activeUserId:n})})},G=function(){var e=U.getState(),t=e.contacts,n=e.user,s=e.activeUserId;return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(C,{contacts:o.a.values(t)}),Object(I.jsx)(P,{user:n,activeUserId:s})]})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1549)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};var K=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49\ud83d\udc47","background: purple; color: #FFF"),console.log(U.getState()),i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(G,{})}),document.getElementById("root"))};K(),U.subscribe(K),J()},31:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){}},[[1548,1,2]]]);
//# sourceMappingURL=main.f9686543.chunk.js.map