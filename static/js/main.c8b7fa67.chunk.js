(this.webpackJsonpskypey=this.webpackJsonpskypey||[]).push([[0],{1541:function(e,t,s){},1542:function(e,t,s){},1543:function(e,t,s){},1544:function(e,t,s){},1545:function(e,t,s){},1546:function(e,t,s){},1547:function(e,t,s){},1548:function(e,t,s){"use strict";s.r(t);var n,a=s(1),c=s.n(a),r=s(22),i=s.n(r),u=(s(31),s(3)),o=s.n(u),l=(s(34),s(35),s(6)),d=s(2),j=s(36),m=s(45),h=s(51),b=s(3),f=(n=10,Array.from({length:n},(function(){return g()}))),p=b.mapKeys(f,"user_id"),v=function(e){var t={};return b.forEach(f,(function(s){var n;t[s.user_id]=Object(d.a)({},b.mapKeys((n=e,Array.from({length:n},(function(e,t){return{number:t,text:m.sentence(),is_user_msg:h.random.boolean()}}))),"number"))})),t};g(),v(10);function g(){return{name:h.name.findName(),email:h.internet.email(),profile_pic:h.internet.avatar(),status:m.sentence(),user_id:j.generate()}}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g();return e},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return e},x="SET_ACTIVE_USER_ID",y="SET_TYPING_VALUE",N="SEND_MESSAGE";var S=s(4);var E=Object(l.a)({user:O,contacts:_,activeUserId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.payload;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v(10),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:var s=t.payload,n=s.message,a=s.userId,c=e[a],r=+o.a.keys(c).pop()+1;return Object(d.a)(Object(d.a)({},e),{},Object(S.a)({},a,Object(d.a)(Object(d.a)({},c),{},Object(S.a)({},r,{number:r,text:n,is_user_msg:!0}))));default:return e}},typing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return"";case y:return t.payload;default:return e}}}),U=Object(l.b)(E),I=s(0),C=function(e){var t=e.user,s=t.name,n=t.profile_pic,a=t.status;return Object(I.jsxs)("div",{className:"User",onClick:function(e){var t=e.user_id;U.dispatch((s=t,{type:x,payload:s}));var s}.bind(null,t),children:[Object(I.jsx)("img",{src:n,alt:s,className:"User__pic"}),Object(I.jsxs)("div",{className:"User__details",children:[Object(I.jsx)("p",{className:"User__details-name",children:s}),Object(I.jsx)("p",{className:"User__details-status",children:a})]})]})},k=(s(1541),function(e){var t=e.contacts;return Object(I.jsx)("aside",{className:"Sidebar",children:t.map((function(e){return Object(I.jsx)(C,{user:e},e.user_id)}))})}),w=(s(1542),s(1543),function(e){var t=e.user,s=t.name,n=t.profile_pic,a=t.status,c=s.split(" ")[0];return Object(I.jsxs)("div",{className:"Empty",children:[Object(I.jsxs)("h1",{className:"Empty__name",children:["Welcome, ",c," "]}),Object(I.jsx)("img",{src:n,alt:s,className:"Empty__img"}),Object(I.jsxs)("p",{className:"Empty__status",children:[Object(I.jsx)("b",{children:"Status:"})," ",a]}),Object(I.jsx)("button",{className:"Empty__btn",children:"Start a conversation"}),Object(I.jsx)("p",{className:"Empty__info",children:"Search for someone to start chatting with or go to Contacts to see who is available"})]})});s(1544),s(1545);var T=function(e){var t=e.user,s=t.name,n=t.status;return Object(I.jsxs)("header",{className:"Header",children:[Object(I.jsx)("h1",{className:"Header__name",children:s}),Object(I.jsx)("p",{className:"Header__status",children:n})]})},F=s(23),R=s(24),A=s(26),D=s(25),M=(s(1546),function(e){var t=e.message,s=t.text,n=t.is_user_msg;return Object(I.jsx)("span",{className:"Chat ".concat(n?"is-user-msg":""),children:s})}),B=function(e){Object(A.a)(s,e);var t=Object(D.a)(s);function s(e){var n;return Object(F.a)(this,s),(n=t.call(this,e)).scrollToBottom=function(){n.chatsRef.current.scrollTop=n.chatsRef.current.scrollHeight},n.chatsRef=c.a.createRef(),n}return Object(R.a)(s,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}},{key:"render",value:function(){return Object(I.jsx)("div",{className:"Chats",ref:this.chatsRef,children:this.props.messages.map((function(e){return Object(I.jsx)(M,{message:e},e.number)}))})}}]),s}(a.Component),H=(s(1547),function(e){var t=e.value,s=U.getState();return Object(I.jsx)("form",{className:"Message",onSubmit:function(e){e.preventDefault();var t=s.typing,n=s.activeUserId;U.dispatch({type:N,payload:{message:t,userId:n}})},children:Object(I.jsx)("input",{className:"Message__input",onChange:function(e){U.dispatch(function(e){return{type:y,payload:e}}(e.target.value))},value:t,placeholder:"write a message"})})}),L=function(e){var t=e.activeUserId,s=U.getState(),n=s.contacts[t],a=s.messages[t],c=s.typing;return Object(I.jsxs)("div",{className:"ChatWindow",children:[Object(I.jsx)(T,{user:n}),Object(I.jsx)(B,{messages:o.a.values(a)}),Object(I.jsx)(H,{value:c})]})},P=function(e){var t=e.user,s=e.activeUserId;return Object(I.jsx)("main",{className:"Main",children:s?Object(I.jsx)(L,{activeUserId:s}):Object(I.jsx)(w,{user:t,activeUserId:s})})},G=function(){var e=U.getState(),t=e.contacts,s=e.user,n=e.activeUserId;return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(k,{contacts:o.a.values(t)}),Object(I.jsx)(P,{user:s,activeUserId:n})]})},J=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,1549)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))};var K=function(){return console.log("%c Rendered with \ud83d\udc49 \ud83d\udc49\ud83d\udc47","background: purple; color: #FFF"),console.log(U.getState()),i.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(G,{})}),document.getElementById("root"))};K(),U.subscribe(K),J()},31:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){}},[[1548,1,2]]]);
//# sourceMappingURL=main.c8b7fa67.chunk.js.map